<!DOCTYPE html>
<html lang="en">
<head>
    {% load static chatnoir_tags %}
    <meta charset="utf-8">
    <title>{% app_name %} Cached Webpage</title>
    <meta http-equiv="refresh" content="5; url={{ uri }}">

    {% include 'search_frontend/include/header.html' %}
</head>
<body class="cache-page">
    <div id="Main" class="container">
        <div class="redirect-message">
            <h1>You are leaving us! ;-(</h1>
            <p>Redirecting to the <em>InterWebz™</em> at <a href="{{ uri }}">{{ uri }}</a></p>
            <p class="timer-message">…in <span class="timer">5</span> seconds…</p>
        </div>
    </div>

    {% include 'search_frontend/include/footer.html' %}

    <script>
        if (top.location !== location) {
            top.location.href = location.href;
        }

        setInterval(() => {
            let el = $('.timer');
            el.text(Math.max(0, parseInt(el.text()) - 1));
        }, 1000);
    </script>
</body>
</html>
